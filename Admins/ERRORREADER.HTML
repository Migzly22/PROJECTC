<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Chart.js to Image</title>
  <!-- Include Chart.js from a CDN -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>

<!-- Create a canvas for the chart -->
<canvas id="myChart" width="400" height="400"></canvas>

<!-- Create a button to trigger the image download -->
<button onclick="downloadChartImage()">Download Chart Image</button>

<script>
  // Your chart configuration
  var chartConfig = {
    type: 'bar',
    data: {
      labels: ['Label 1', 'Label 2', 'Label 3'],
      datasets: [{
        label: 'My Dataset',
        data: [10, 20, 30],
        backgroundColor: ['red', 'green', 'blue']
      }]
    },
    options: {
      // Your chart options
    }
  };

  // Create a new Chart instance
  var ctx = document.getElementById('myChart').getContext('2d');
  var myChart = new Chart(ctx, chartConfig);

  // Function to convert the chart to a base64-encoded image and trigger download
  function downloadChartImage() {
    // Convert the chart to a base64-encoded image
    var chartImage = myChart.toBase64Image();

    // Create a link element
    var downloadLink = document.createElement('a');
    downloadLink.href = chartImage;

    // Set the download attribute with a filename
    downloadLink.download = 'chart.png';

    // Trigger a click on the link to initiate the download
    downloadLink.click();
  }
</script>

</body>
</html>